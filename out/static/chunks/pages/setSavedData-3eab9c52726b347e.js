(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[356],{2618:function(e,t,n){"use strict";n.d(t,{Z:function(){return T}});var r=n(29),a=n(7794),i=n.n(a),o=n(8095),s=o.ZP.span.withConfig({displayName:"SavedDataStyles__IconWrapper",componentId:"sc-g1imrb-0"})(["display:flex;justify-content:end;align-items:center;width:100%;color:#fe4b13;margin-top:-1rem;"]),c=o.ZP.section.withConfig({displayName:"SavedDataStyles__WrapperSaved",componentId:"sc-g1imrb-1"})(["display:grid;height:inherit;justify-content:center;z-index:1;opacity:0.75;background-attachment:scroll;margin-bottom:2rem;"]),l=o.ZP.ul.withConfig({displayName:"SavedDataStyles__CardGrid",componentId:"sc-g1imrb-2"})(["display:grid;gap:auto;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));align-content:start;margin:0;padding:0;overflow-y:auto;border-radius:10px;justify-content:center;"]),d=o.ZP.li.withConfig({displayName:"SavedDataStyles__Saved",componentId:"sc-g1imrb-3"})(["display:grid;background-color:beige;border-radius:8px;text-align:center;height:auto;align-items:center;margin:1rem;padding:0.5rem;"]),u=o.ZP.summary.withConfig({displayName:"SavedDataStyles__Summary",componentId:"sc-g1imrb-4"})(["&::-webkit-details-marker{display:none;}display:grid;text-decoration:underline;background-color:transparent;border-radius:8px;text-align:center;height:auto;align-items:center;"]),p=o.ZP.details.withConfig({displayName:"SavedDataStyles__Details",componentId:"sc-g1imrb-5"})(["display:grid;background-color:beige;right:1rem;border-radius:8px;text-align:center;height:auto;align-items:center;margin:0.5rem;padding:0.5rem;"]),m=o.ZP.span.withConfig({displayName:"SavedDataStyles__BloodSugar",componentId:"sc-g1imrb-6"})(["color:#c92a2a;"]),g=o.ZP.span.withConfig({displayName:"SavedDataStyles__Insulin",componentId:"sc-g1imrb-7"})(["color:#5c940d;"]),f=o.ZP.span.withConfig({displayName:"SavedDataStyles__Carbohydrates",componentId:"sc-g1imrb-8"})(["color:#e67700;"]),h=o.ZP.span.withConfig({displayName:"SavedDataStyles__Factor",componentId:"sc-g1imrb-9"})(["color:#2b8a3e;"]),x=o.ZP.span.withConfig({displayName:"SavedDataStyles__InsulinUnits",componentId:"sc-g1imrb-10"})(["color:#364fc7;"]),b=o.ZP.span.withConfig({displayName:"SavedDataStyles__Timestampwraper",componentId:"sc-g1imrb-11"})(["color:#008080;font-size:0.8rem;display:grid;margin-top:0.3rem;"]),y=o.ZP.span.withConfig({displayName:"SavedDataStyles__SearchData",componentId:"sc-g1imrb-12"})(["display:grid;margin:0.3rem;flex-direction:column;justify-content:center;align-items:center;color:#fff;"]),j=o.ZP.input.withConfig({displayName:"SavedDataStyles__DataInput",componentId:"sc-g1imrb-13"})(["width:auto;text-align:center;height:2.4rem;border-radius:8px;background-color:beige;color:black;border:none;opacity:0.85;"]),w=(0,o.F4)(["from{-webkit-filter:hue-rotate(180deg);}to{-webkit-filter:hue-rotate(-180deg);}"]),v=o.ZP.h2.withConfig({displayName:"SavedDataStyles__SavedData",componentId:"sc-g1imrb-14"})(["background-image:-webkit-linear-gradient(92deg,#f35626,#feab3a);-webkit-background-clip:text;-webkit-text-fill-color:transparent;-webkit-animation:"," 10s infinite linear;color:purple;font-family:Cambria,Cochin,Georgia,Times,'Times New Roman',serif;text-align:center;z-index:1;"],w),S=n(9352),_=n(7294),D=n(3299),k=n(5976),C=o.ZP.button.withConfig({displayName:"UserDataToPdfStyles__ExportButton",componentId:"sc-1jfycsr-0"})(["background-color:#fe4b13;color:white;border:none;border-radius:8px;padding:0.5rem 1rem;height:1.8rem;margin-left:0.4rem;margin-right:0.4rem;width:auto;cursor:pointer;transition:background-color 0.4s ease;&:hover{background-color:#d63200;}"]),N=k.mM.create({page:{fontFamily:"Helvetica",paddingTop:30,paddingBottom:30,paddingHorizontal:40,columnGap:5},header:{flexDirection:"column",alignItems:"center",marginBottom:20,color:"rebeccapurple"},footer:{position:"absolute",fontSize:12,bottom:30,left:0,right:0,textAlign:"center",color:"#c92a2a"},image:{bottom:25,left:200,position:"absolute",width:20,height:20,borderRadius:"50%"},title:{fontSize:18,marginTop:10},subtitle:{fontSize:10,marginTop:5},cardContainer:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginTop:60},card:{width:"40%",height:"100",marginBottom:10,borderWidth:1,borderColor:"#000",padding:10,fontSize:10},pageNumber:{position:"absolute",fontSize:10,bottom:30,left:500,textAlign:"center",color:"grey"}}),P=n(7421),I=n(5893);function Z(e){var t=e.cardData,n=(0,D.useSession)().data,a=t.filter(function(e){return e.userMail===n.user.email}),o=(0,P.$G)().t;function s(){return(s=(0,r.Z)(i().mark(function e(){var t,s,c,l,d,u,p,m,g,f,h;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(s=0,t=[];s<a.length;s+=1e3){for(d=0,c=a.slice(s,s+1e3),l=[];d<c.length;d+=10)l.push(c.slice(d,d+10));t.push(l)}return u=t.map(function(){var e=(0,r.Z)(i().mark(function e(t,r){var a,s;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,I.jsx)(k.BB,{children:t.map(function(e,t){return(0,I.jsxs)(k.T3,{size:"A4",style:N.page,children:[(0,I.jsxs)(k.G7,{style:N.header,children:[(0,I.jsxs)(k.xv,{style:N.title,children:[o("saveddatafrom")," ",n.user.name]}),(0,I.jsxs)(k.xv,{style:N.subtitle,children:[o("createdon"),": ",new Date().toLocaleString()]})]}),(0,I.jsx)(k.G7,{style:N.cardContainer,children:e.map(function(e,t){return(0,I.jsxs)(k.G7,{style:N.card,children:[(0,I.jsxs)(k.xv,{style:{color:"#008080"},children:[o("date"),": ",e.date]}),(0,I.jsxs)(k.xv,{style:{color:"#c92a2a"},children:[o("bloodsugarlevel"),": ",e.bloodsugar," mg/dl"]}),(0,I.jsxs)(k.xv,{style:{color:"#e67700"},children:[o("carbohydrates"),": ",e.carbohydrates," g"]}),(0,I.jsxs)(k.xv,{style:{color:"#5c940d"},children:[o("usedinsulin"),": ",e.insulin]}),(0,I.jsxs)(k.xv,{style:{color:"#2b8a3e"},children:[o("insulinfactor"),": ",e.daytimeFactor]}),(0,I.jsxs)(k.xv,{style:{color:"#2b8a3e"},children:[o("correctionfactor"),": ",e.correctionFactor]}),(0,I.jsxs)(k.xv,{style:{color:"#364fc7"},children:[o("injectedinsulin")," ",o("quantity"),":"," ",e.calculateUnit]})]},t)})}),(0,I.jsxs)(k.G7,{style:N.footer,children:[" ",(0,I.jsx)(k.xv,{children:"InsulinApp.vercel.app"})]}),(0,I.jsx)(k.Ee,{style:N.image,src:"logo.png",alt:""}),(0,I.jsx)(k.xv,{style:N.pageNumber,render:function(e){var t=e.pageNumber,n=e.totalPages;return"".concat(t," / ").concat(n)},fixed:!0})]},t)})},r),e.next=3,(0,k.eA)(a).toBlob();case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),e.next=7,Promise.all(u);case 7:p=e.sent,m=/iPad|iPhone|iPod/.test(navigator.userAgent),g=new Blob(p,{type:"application/pdf"}),f=URL.createObjectURL(g),h=document.createElement("a"),m?window.open(f):(window.open(f),h.href=f,h.download="gespeicherte_daten_".concat(n.user.name,".pdf"),h.click(),URL.revokeObjectURL(f));case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}return(0,I.jsx)(C,{onClick:function(){return s.apply(this,arguments)},children:o("export")})}function T(e){var t=e.cardData,n=(0,D.useSession)().data,a=t.filter(function(e){return e.userMail===n.user.email}),o=(0,_.useState)(a),w=o[0],k=o[1];function C(){return(C=(0,r.Z)(i().mark(function e(t){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/savedInsulinData/"+t,{method:"DELETE"});case 2:e.sent,k(w.filter(function(e){return e.id!==t}));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var N=(0,_.useState)(""),T=N[0],E=N[1],z=w.filter(function(e){return e.date.toLowerCase().includes(T.toLowerCase())}).sort(function(e,t){return new Date(e.date)-new Date(t.date)}).reverse(),G=(0,P.$G)().t;return(0,I.jsxs)(c,{children:[(0,I.jsxs)(v,{children:[" ",G("storedvalues")]}),(0,I.jsx)(y,{children:(0,I.jsx)(j,{type:"text",placeholder:G("search"),onChange:function(e){E(e.target.value)}})}),(0,I.jsx)(Z,{cardData:t}),(0,I.jsx)(l,{id:"pdf-content",children:z.map(function(e){return(0,I.jsxs)(p,{children:[(0,I.jsxs)(u,{children:[(0,I.jsx)(b,{children:e.date}),(0,I.jsx)(s,{children:(0,I.jsx)(S.VrN,{})})]}),(0,I.jsxs)(d,{children:[(0,I.jsx)(s,{children:(0,I.jsx)(S.qy0,{onClick:function(){return function(e){return C.apply(this,arguments)}(e.id)}})}),(0,I.jsxs)(m,{children:[G("bloodsugarlevel"),": ",(0,I.jsx)("br",{})," ",e.bloodsugar," mg/dl"]}),(0,I.jsx)("br",{}),(0,I.jsxs)(f,{children:[G("carbohydrates"),": ",(0,I.jsx)("br",{})," ",e.carbohydrates," g (Gramm)"]}),(0,I.jsx)("br",{}),(0,I.jsxs)(g,{children:[G("usedinsulin"),": ",(0,I.jsx)("br",{})," ",e.insulin]}),(0,I.jsx)("br",{}),(0,I.jsxs)(h,{children:[G("insulinfactor"),": ",(0,I.jsx)("br",{})," ",e.daytimeFactor]}),(0,I.jsxs)(h,{children:[G("correctionfactor"),": ",(0,I.jsx)("br",{}),e.correctionFactor]}),(0,I.jsxs)(x,{children:[G("injectedinsulin"),(0,I.jsx)("br",{})," ",G("quantity"),": ",e.calculateUnit]})]})]},e.id)})})]})}},2268:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return c},default:function(){return l}});var r=n(29),a=n(7794),i=n.n(a),o=n(2618),s=n(5893),c=!0;function l(){function e(){return(e=(0,r.Z)(i().mark(function e(t){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/setInsulinDatas",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)});case 2:e.sent.json();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(o.Z,{cardData:function(t){return e.apply(this,arguments)}})})}},3600:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/setSavedData",function(){return n(2268)}])},2480:function(){}},function(e){e.O(0,[937,186,445,111,999,750,774,888,179],function(){return e(e.s=3600)}),_N_E=e.O()}]);