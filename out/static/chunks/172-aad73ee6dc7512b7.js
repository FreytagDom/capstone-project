"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[172],{1172:function(e,t,r){r.d(t,{Z:function(){return Y}});var n=r(29),o=r(7794),a=r.n(o),i=r(7294),c=r(8095),l=r(5675),s=r.n(l),d=c.ZP.label.withConfig({displayName:"HomeInputStyles__Label",componentId:"sc-vf49uo-0"})(["background-color:beige;border-radius:8px;display:grid;text-align:center;height:min-content 14vh;padding-top:3vh;margin-top:0.3vh;position:sticky;opacity:0.8;"]),m=(0,c.ZP)(d).withConfig({displayName:"HomeInputStyles__LabelBz",componentId:"sc-vf49uo-1"})(["color:#c92a2a;"]),u=(0,c.ZP)(d).withConfig({displayName:"HomeInputStyles__LabelIu",componentId:"sc-vf49uo-2"})(["color:#5c940d;"]),p=(0,c.ZP)(d).withConfig({displayName:"HomeInputStyles__LabelCa",componentId:"sc-vf49uo-3"})(["color:#e67700;"]),g=(0,c.ZP)(d).withConfig({displayName:"HomeInputStyles__LabelFa",componentId:"sc-vf49uo-4"})(["color:#2b8a3e;padding-bottom:0.5rem;padding-top:0.5rem;"]),h=c.ZP.input.withConfig({displayName:"HomeInputStyles__DataInput",componentId:"sc-vf49uo-5"})(["border-radius:8px;text-align:center;border-style:groove;appearance:none;-moz-appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;margin:0;}"]),A=c.ZP.button.withConfig({displayName:"HomeInputStyles__Button",componentId:"sc-vf49uo-6"})(["background-color:skyblue;color:darkblue;margin-top:0.5rem;margin-bottom:0.5rem;border-radius:15px;height:20px;z-index:1;"]),f=c.ZP.select.withConfig({displayName:"HomeInputStyles__InsulinSelect",componentId:"sc-vf49uo-7"})(["background-color:beige;border-radius:8px;display:grid;text-align:center;height:1.8rem;margin-top:0.7rem;color:#364fc9;"]),x=c.ZP.option.withConfig({displayName:"HomeInputStyles__InsulinOption",componentId:"sc-vf49uo-8"})(["border-radius:8px;text-align:center;color:#5c940d;background:transparent;"]),b=c.ZP.div.withConfig({displayName:"HomeInputStyles__FactorSelect",componentId:"sc-vf49uo-9"})(["background-color:beige;border-radius:8px;display:grid;text-align:center;height:1.7rem;color:#364fc9;"]),v=c.ZP.div.withConfig({displayName:"HomeInputStyles__FactorOption",componentId:"sc-vf49uo-10"})(["border-radius:8px;text-align:center;padding-top:0.4rem;color:#5c940d;background:transparent;"]),y=c.ZP.li.withConfig({displayName:"HomeInputStyles__InsulinUnits",componentId:"sc-vf49uo-11"})(["color:#364fc7;background-color:beige;border-radius:8px;display:grid;text-align:center;padding-top:2vh;height:4rem;position:inherit;z-index:1;opacity:0.75;"]),I=c.ZP.form.withConfig({displayName:"HomeInputStyles__EntryForm",componentId:"sc-vf49uo-12"})(["display:grid;justify-content:center;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));grid-template-rows:repeat(auto-fit,minmax(100px,1fr));align-content:start;margin:0;padding:0;"]),w=(0,c.ZP)(s()).withConfig({displayName:"HomeInputStyles__EmptyInject",componentId:"sc-vf49uo-13"})(["margin-left:12rem;margin-top:-1.2rem;"]),j=(0,c.ZP)(s()).withConfig({displayName:"HomeInputStyles__FullInject",componentId:"sc-vf49uo-14"})(["margin-left:1rem;margin-top:-3rem;"]),F=(0,c.ZP)(s()).withConfig({displayName:"HomeInputStyles__BloodDrop",componentId:"sc-vf49uo-15"})(["margin-left:1rem;margin-top:-3rem;height:1.8rem;width:1.5rem;"]),_=(0,c.ZP)(s()).withConfig({displayName:"HomeInputStyles__Blood",componentId:"sc-vf49uo-16"})(["margin-left:11rem;margin-top:-2.2rem;padding-right:0.5rem;height:2rem;width:3rem;"]),C=(0,c.ZP)(s()).withConfig({displayName:"HomeInputStyles__Carbohydrates",componentId:"sc-vf49uo-17"})(["margin-left:0.5rem;margin-top:-3rem;height:1.5rem;width:1.5rem;"]),D=(0,c.ZP)(s()).withConfig({displayName:"HomeInputStyles__Donut",componentId:"sc-vf49uo-18"})(["margin-left:11.5rem;margin-top:-1rem;height:2rem;width:2rem;"]),S={src:"/_next/static/media/leereSpritze.f76e0674.png",height:24,width:24,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAi0lEQVR42mMQCzKxA+J8BiQgGmjMDOcAJcuAeAoQNwLxDCDWgYqzwRQcAmJHID4IxF5AvA2IDWAGwBQZAfE2ILYGYj0gXgPEPkAsCrcPyPEG4ldAHArEvkB8F4jFYY5igSpyBeI7QHwciDPFg0zF4daIBBjBTJoGxJZAfAKI58PkUUyCKgwQCzLhBAAfYipMzSrwtwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},P={src:"/_next/static/media/volleSpritze.52e2f51c.png",height:24,width:24,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAlUlEQVR42mNosF1jB8T5DEig3mYNM5wDlCwD4qlAXAnEfQ22a5Wh4mwwBUeA2KLeds33epvV/4Hsj0BFajADYIo0gPhng82aX0C6GYgXArEfEIsC7VvFBFXkBsS3gbrtgLQ/EN8FssVhjmKBKnIH4gdAfAyIM2EKIIqsVzNDFU0FYksgPgHE82HyKCZBFK4NaLBdywkAdIlO2FwujtcAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},N={src:"/_next/static/media/blood.1d1d2c0b.PNG",height:970,width:1250,blurWidth:0,blurHeight:0},H={src:"/_next/static/media/blooddrop.13c493d1.PNG",height:229,width:146,blurWidth:0,blurHeight:0},B={src:"/_next/static/media/carbohydrates.c67a0fd4.png",height:32,width:32,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAABE0lEQVR4nAEIAff+AU42DITp8gS3ydjw4U85BVWxx/vcAAAAC6pvA38AAACvAX9YG4L6+/R9+f4F9An8BwweLyH7Fgz2Bf7o5ADl7fyWASoAAFNBSzOs/PzlAPvuD/8HFAIB+v7y/frwCgPl8vxmAYaBdqcmD/ZYJP+U+vb+KQUCAPsB/Pz9+xENBAXp7/yxAUxDPIEa9sx+JiQhAPny1wAFBhL/BAkZAf38/ADS3/RtAYB0ZIIQDQx9cH+Qk3h1bFHj6O73paOmygAAI9IAAOexAXBQP8gZFBA3d5yxiseef3b+7uYA1rib3u8DDtAA/fLiATMAACnNAAAMaDwbPVUZ5WcaFAD31/QS15q+7q8xIADxtHB77Dl5AT8AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},U={src:"/_next/static/media/donut.ef376f23.png",height:500,width:500,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA40lEQVR42mO4XN3LxAAEO5o9Fc9WzpxwrrylaUdWszgDEBwpzGFmAIHT5WHOZ1K6/pwKnfj/fMbU/6dyp35eGcdgwQADpzMbzp506v2/1N7v/nLP8A9b/RKeTU5jUGUAgaY0BqGjVs0vziW2/e8pYLDeUSKZvrvAeDsDEHzrKGFhAIG5GhknjwT3/b9R1HjrakzP9SORlf+n+xvUMsBAnpmz+SKX7J/7bev/73Cq/7/IPfNNi44/xA01Fn5gl4oyMEjlG9qlV5i5ZzEwMAgzAMFCp0wmBhAoMXUFKkIFEwxjwWIACZFUiGWKPrsAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},k=r(5893);function E(e,t){var r=t.filter(function(t){return t.id===(null==e?void 0:e.user.email)}),n=new Date().getHours();return 0===r.length?(0,k.jsx)(z,{htmlFor:"setcorrectionfactor",name:"no data",value:0,children:(0,k.jsx)(Z,{children:"0"})}):n>=6&&n<11?(0,k.jsx)(z,{htmlFor:"setcorrectionfactor",name:"morningcorrectionfactor",id:r[0].name,value:r[0].morningcorrectionfactor,children:(0,k.jsx)(Z,{children:r[0].morningcorrectionfactor})},r[0].id):n>=11&&n<17?(0,k.jsx)(z,{htmlFor:"setcorrectionfactor",name:"lunchcorrectionfactor",id:r[0].name,value:r[0].lunchcorrectionfactor,children:(0,k.jsx)(Z,{name:"lunchcorrectionfactor",value:r[0].lunchcorrectionfactor,children:r[0].lunchcorrectionfactor})},r[0].id):n>=17&&n<22?(0,k.jsx)(z,{htmlFor:"setcorrectionfactor",name:"eveningcorrectionfactor",id:r[0].name,value:r[0].eveningcorrectionfactor,children:(0,k.jsx)(Z,{name:"eveningcorrectionfactor",value:r[0].eveningcorrectionfactor,children:r[0].eveningcorrectionfactor})},r[0].id):(0,k.jsx)(z,{htmlFor:"setcorrectionfactor",name:"latecorrectionfactor",id:r[0].name,value:r[0].latecorrectionfactor,children:(0,k.jsx)(Z,{name:"latecorrectionfactor",id:r[0].name,value:r[0].latecorrectionfactor,children:r[0].latecorrectionfactor})},r[0].id)}var Z=c.ZP.div.withConfig({displayName:"getCorrectionFactor__CorrectionFactorOption",componentId:"sc-kbhtx9-0"})(["border-radius:8px;text-align:center;color:#5c940d;background:transparent;"]),z=c.ZP.div.withConfig({displayName:"getCorrectionFactor__SetCorrectionFactorOption",componentId:"sc-kbhtx9-1"})(["border-radius:8px;text-align:center;color:#5c940d;background:transparent;"]);function L(e,t){var r=t.filter(function(t){return t.id===(null==e?void 0:e.user.email)}),n=new Date().getHours();return 0===r.length?(0,k.jsx)(O,{htmlFor:"setdayfactor",name:"no data",value:0,children:(0,k.jsx)(K,{children:"0"})}):n>=6&&n<11?(0,k.jsx)(O,{htmlFor:"setdayfactor",name:"morningfactor",id:r[0].id,value:r[0].morningfactor,children:(0,k.jsx)(K,{name:"morningfactor",value:r[0].morningfactor,children:r[0].morningfactor})},r[0].id):n>=11&&n<17?(0,k.jsx)(O,{htmlFor:"setdayfactor",name:"lunchfactor",id:r[0].name,value:r[0].lunchfactor,children:(0,k.jsx)(K,{name:"lunchfactor",value:r[0].lunchfactor,children:r[0].lunchfactor})},r[0].id):n>=17&&n<22?(0,k.jsx)(O,{htmlFor:"setdayfactor",name:"eveningfactor",id:r[0].name,value:r[0].eveningfactor,children:(0,k.jsx)(K,{name:"eveningfactor",value:r[0].eveningfactor,children:r[0].eveningfactor})},r[0].id):(0,k.jsx)(O,{htmlFor:"setdayfactor",name:"latefactor",id:r[0].name,value:r[0].latefactor,children:(0,k.jsx)(K,{name:"latefactor",value:r[0].latefactor,children:r[0].latefactor})},r[0].id)}var K=c.ZP.div.withConfig({displayName:"getDayFactor__FactorOption",componentId:"sc-v0zkv-0"})(["border-radius:8px;text-align:center;padding-top:0.4rem;color:#5c940d;background:transparent;"]),O=c.ZP.div.withConfig({displayName:"getDayFactor__SetDayFactorOption",componentId:"sc-v0zkv-1"})(["border-radius:8px;text-align:center;color:#5c940d;background:transparent;"]),G=r(7421);function Y(e){var t=e.session,r=e.factors,o=e.correctionfactors,c=e.index,l=(0,i.useState)(),s=l[0],d=l[1];function Z(){return(Z=(0,n.Z)(a().mark(function e(n){var i,c,l,s,m,u,p,g,h;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:var a,A,f,x,b,v;return n.preventDefault(),c=(i=n.target).bloodsugar.value,l=i.carbohydrates.value,s=i.setinsulinSelect.value,m=L(t,r).props.value,a=c,A=E(t,o),u=a<100?0:A.props.value,f=c,x=l,b=m,v=u,p=f<100?(x/b).toFixed(1):((f-100)/v+x/b).toFixed(1),g=t.user.email,d(p),h={userMail:g,bloodsugar:c,carbohydrates:l,insulin:s,daytimeFactor:m,correctionFactor:u,calculateUnit:p,date:new Date().toLocaleString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})},e.next=15,fetch("/api/setInsulinDatas",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(h)});case 15:e.sent,i.reset();case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}var z=(0,G.$G)().t;return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(I,{onSubmit:function(e){return Z.apply(this,arguments)},onKeyPress:function(e){return!/[0-9]/.test(e.key)&&e.preventDefault()},children:[(0,k.jsxs)(m,{htmlFor:"bloodsugar",children:[z("bloodsugar")," ",(0,k.jsx)("br",{}),"mg/dl",(0,k.jsx)(F,{src:H,alt:"blooddrop"}),(0,k.jsx)(_,{src:N,alt:"blood"}),(0,k.jsx)(h,{type:"decimal",name:"bloodsugar",placeholder:z("currentbloodglucosevalue"),id:"bloodsugar",min:"0",inputMode:"numeric",maxLength:3,required:!0},"bloodsugar")]}),(0,k.jsxs)(p,{htmlFor:"carbohydrates",children:[z("carbohydrates")," (Khd) ",(0,k.jsx)("br",{})," g (Gramm)",(0,k.jsx)(C,{src:B,alt:"carbohydrates"}),(0,k.jsx)(D,{src:U,alt:"donut"}),(0,k.jsx)(h,{type:"decimal",name:"carbohydrates",placeholder:z("howmanyKhd65g"),id:"carbohydrates",maxLength:"3",min:"0",inputMode:"numeric",required:!0},"carbohydrates")]}),(0,k.jsx)(i.Fragment,{children:(0,k.jsxs)(u,{htmlFor:"insulin",children:[z("whichinsulin1")," ",(0,k.jsx)("br",{})," ",z("whichinsulin2"),(0,k.jsxs)(f,{htmlFor:"setinsulin",name:"setinsulinSelect",id:x.id,children:[(0,k.jsx)(x,{placeholder:z("chooseinsulin"),children:z("chooseinsulin")}),[{value:"Fiasp",label:"Fiasp"},{value:"Hum Normal",label:"Hum Normal"}].map(function(e){return(0,k.jsx)(x,{name:"insulinOption",value:e.value,children:e.label},e.label)})]})]})}),(0,k.jsx)(A,{type:"submit",children:z("confirm")}),(0,k.jsxs)(y,{htmlFor:"insulinunits",id:"calculateUnits",name:"calculateUnits",children:[s," / ",z("injectunits")," ",(0,k.jsx)("br",{})," ",z("ofinsulin"),(0,k.jsx)(j,{src:P,alt:""}),(0,k.jsx)(w,{src:S,alt:""})]},"calculateUnits"),(0,k.jsx)(i.Fragment,{children:(0,k.jsxs)(g,{htmlFor:"factor",children:[z("daytimefactor"),(0,k.jsx)(b,{htmlFor:"setdayfactor",name:"dayfactorSelect",id:L(t,r).props.name,value:L(t,r).props.value,options:!0,children:(0,k.jsxs)(v,{name:L(t,r).props.name,id:L(t,r),value:L(t,r).props.value,children:[z("insulinfactor")," ",L(t,r).props.value]})},c),(0,k.jsx)(b,{htmlFor:"setcorrectionfactor",name:"correctionfactorSelect",id:E(t,o).props.name,value:E(t,o).props.value,options:!0,children:(0,k.jsxs)(v,{name:E(t,o).props.name,id:E(t,o).props,value:E(t,o).props.value,children:[z("correction")," ",E(t,o).props.value]})},c)]})})]})})}}}]);